{"version":3,"sources":["../../src/internal/CircleRipple.js"],"names":["CircleRipple","shouldComponentUpdate","nextProps","props","componentWillUnmount","clearTimeout","enterTimer","leaveTimer","componentWillAppear","callback","initializeAnimation","componentWillEnter","componentDidAppear","animate","componentDidEnter","componentWillLeave","style","findDOMNode","opacity","removeAfter","aborted","setTimeout","transitionValue","easeOut","set","render","color","touchGenerated","other","prepareStyles","context","muiTheme","mergedStyles","position","top","left","height","width","borderRadius","backgroundColor","propTypes","bool","string","number","object","defaultProps","contextTypes","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAEMA,Y;;;;;;;;yBAkBJC,qB,kCAAsBC,S,EAAW;AAC/B,WAAO,CAAC,4BAAa,KAAKC,KAAlB,EAAyBD,SAAzB,CAAR;AACD,G;;yBAEDE,oB,mCAAuB;AACrBC,iBAAa,KAAKC,UAAlB;AACAD,iBAAa,KAAKE,UAAlB;AACD,G;;yBAEDC,mB,gCAAoBC,Q,EAAU;AAC5B,SAAKC,mBAAL,CAAyBD,QAAzB;AACD,G;;yBAEDE,kB,+BAAmBF,Q,EAAU;AAC3B,SAAKC,mBAAL,CAAyBD,QAAzB;AACD,G;;yBAEDG,kB,iCAAqB;AACnB,SAAKC,OAAL;AACD,G;;yBAEDC,iB,gCAAoB;AAClB,SAAKD,OAAL;AACD,G;;yBAEDE,kB,+BAAmBN,Q,EAAU;AAC3B,QAAMO,QAAQ,mBAASC,WAAT,CAAqB,IAArB,EAA2BD,KAAzC;AACAA,UAAME,OAAN,GAAgB,CAAhB;AACA;AACA,QAAMC,cAAc,KAAKhB,KAAL,CAAWiB,OAAX,GAAqB,CAArB,GAAyB,IAA7C;AACA,SAAKd,UAAL,GAAkBe,WAAWZ,QAAX,EAAqBU,WAArB,CAAlB;AACD,G;;yBAEDN,O,sBAAU;AACR,QAAMG,QAAQ,mBAASC,WAAT,CAAqB,IAArB,EAA2BD,KAAzC;AACA,QAAMM,kBAAqB,sBAAYC,OAAZ,CAAoB,IAApB,EAA0B,SAA1B,CAArB,UACJ,sBAAYA,OAAZ,CAAoB,IAApB,EAA0B,WAA1B,CADF;AAEA,yBAAWC,GAAX,CAAeR,KAAf,EAAsB,YAAtB,EAAoCM,eAApC;AACA,yBAAWE,GAAX,CAAeR,KAAf,EAAsB,WAAtB,EAAmC,UAAnC;AACD,G;;yBAEDN,mB,gCAAoBD,Q,EAAU;AAC5B,QAAMO,QAAQ,mBAASC,WAAT,CAAqB,IAArB,EAA2BD,KAAzC;AACAA,UAAME,OAAN,GAAgB,KAAKf,KAAL,CAAWe,OAA3B;AACA,yBAAWM,GAAX,CAAeR,KAAf,EAAsB,WAAtB,EAAmC,UAAnC;AACA,SAAKT,UAAL,GAAkBc,WAAWZ,QAAX,EAAqB,CAArB,CAAlB;AACD,G;;yBAEDgB,M,qBAAS;AAAA,iBAQH,KAAKtB,KARF;AAAA,QAELiB,OAFK,UAELA,OAFK;AAAA,QAGLM,KAHK,UAGLA,KAHK;AAAA,QAILR,OAJK,UAILA,OAJK;AAAA,QAKLF,KALK,UAKLA,KALK;AAAA,QAMLW,cANK,UAMLA,cANK;AAAA,QAOFC,KAPE;AAAA,QAUAC,aAVA,GAUiB,KAAKC,OAAL,CAAaC,QAV9B,CAUAF,aAVA;;;AAYP,QAAMG,eAAe,sBAAc;AACjCC,gBAAU,UADuB;AAEjCC,WAAK,CAF4B;AAGjCC,YAAM,CAH2B;AAIjCC,cAAQ,MAJyB;AAKjCC,aAAO,MAL0B;AAMjCC,oBAAc,KANmB;AAOjCC,uBAAiBb;AAPgB,KAAd,EAQlBV,KARkB,CAArB;;AAUA,WACE,gEAASY,KAAT,IAAgB,OAAOC,cAAcG,YAAd,CAAvB,IADF;AAGD,G;;;4BA1FMQ,S,GAAY;AACjBpB,WAAS,oBAAUqB,IADF;AAEjBf,SAAO,oBAAUgB,MAFA;AAGjBxB,WAAS,oBAAUyB,MAHF;AAIjB3B,SAAO,oBAAU4B,MAJA;AAKjBjB,kBAAgB,oBAAUc;AALT,C,SAQZI,Y,GAAe;AACpB3B,WAAS,GADW;AAEpBE,WAAS;AAFW,C,SAKf0B,Y,GAAe;AACpBf,YAAU,oBAAUa,MAAV,CAAiBG;AADP,C;kBAgFT/C,Y","file":"CircleRipple.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport shallowEqual from 'recompose/shallowEqual';\nimport autoPrefix from '../utils/autoPrefix';\nimport transitions from '../styles/transitions';\n\nclass CircleRipple extends Component {\n  static propTypes = {\n    aborted: PropTypes.bool,\n    color: PropTypes.string,\n    opacity: PropTypes.number,\n    style: PropTypes.object,\n    touchGenerated: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    opacity: 0.1,\n    aborted: false,\n  };\n\n  static contextTypes = {\n    muiTheme: PropTypes.object.isRequired,\n  };\n\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(this.props, nextProps);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.enterTimer);\n    clearTimeout(this.leaveTimer);\n  }\n\n  componentWillAppear(callback) {\n    this.initializeAnimation(callback);\n  }\n\n  componentWillEnter(callback) {\n    this.initializeAnimation(callback);\n  }\n\n  componentDidAppear() {\n    this.animate();\n  }\n\n  componentDidEnter() {\n    this.animate();\n  }\n\n  componentWillLeave(callback) {\n    const style = ReactDOM.findDOMNode(this).style;\n    style.opacity = 0;\n    // If the animation is aborted, remove from the DOM immediately\n    const removeAfter = this.props.aborted ? 0 : 2000;\n    this.enterTimer = setTimeout(callback, removeAfter);\n  }\n\n  animate() {\n    const style = ReactDOM.findDOMNode(this).style;\n    const transitionValue = `${transitions.easeOut('2s', 'opacity')}, ${\n      transitions.easeOut('1s', 'transform')}`;\n    autoPrefix.set(style, 'transition', transitionValue);\n    autoPrefix.set(style, 'transform', 'scale(1)');\n  }\n\n  initializeAnimation(callback) {\n    const style = ReactDOM.findDOMNode(this).style;\n    style.opacity = this.props.opacity;\n    autoPrefix.set(style, 'transform', 'scale(0)');\n    this.leaveTimer = setTimeout(callback, 0);\n  }\n\n  render() {\n    const {\n      aborted, // eslint-disable-line no-unused-vars\n      color,\n      opacity, // eslint-disable-line no-unused-vars\n      style,\n      touchGenerated, // eslint-disable-line no-unused-vars\n      ...other\n    } = this.props;\n\n    const {prepareStyles} = this.context.muiTheme;\n\n    const mergedStyles = Object.assign({\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      height: '100%',\n      width: '100%',\n      borderRadius: '50%',\n      backgroundColor: color,\n    }, style);\n\n    return (\n      <div {...other} style={prepareStyles(mergedStyles)} />\n    );\n  }\n}\n\nexport default CircleRipple;\n"]}