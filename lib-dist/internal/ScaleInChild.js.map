{"version":3,"sources":["../../src/internal/ScaleInChild.js"],"names":["ScaleInChild","componentWillUnmount","clearTimeout","enterTimer","leaveTimer","componentWillAppear","callback","initializeAnimation","componentWillEnter","componentDidAppear","animate","componentDidEnter","componentWillLeave","style","findDOMNode","opacity","set","props","minScale","setTimeout","maxScale","enterDelay","render","children","other","prepareStyles","context","muiTheme","mergedRootStyles","position","height","width","top","left","transition","easeOut","propTypes","node","number","object","defaultProps","contextTypes","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAEMA,Y;;;;;;;;yBAmBJC,oB,mCAAuB;AACrBC,iBAAa,KAAKC,UAAlB;AACAD,iBAAa,KAAKE,UAAlB;AACD,G;;yBAEDC,mB,gCAAoBC,Q,EAAU;AAC5B,SAAKC,mBAAL,CAAyBD,QAAzB;AACD,G;;yBAEDE,kB,+BAAmBF,Q,EAAU;AAC3B,SAAKC,mBAAL,CAAyBD,QAAzB;AACD,G;;yBAEDG,kB,iCAAqB;AACnB,SAAKC,OAAL;AACD,G;;yBAEDC,iB,gCAAoB;AAClB,SAAKD,OAAL;AACD,G;;yBAEDE,kB,+BAAmBN,Q,EAAU;AAC3B,QAAMO,QAAQ,mBAASC,WAAT,CAAqB,IAArB,EAA2BD,KAAzC;;AAEAA,UAAME,OAAN,GAAgB,GAAhB;AACA,yBAAWC,GAAX,CAAeH,KAAf,EAAsB,WAAtB,aAA4C,KAAKI,KAAL,CAAWC,QAAvD;;AAEA,SAAKd,UAAL,GAAkBe,WAAWb,QAAX,EAAqB,GAArB,CAAlB;AACD,G;;yBAEDI,O,sBAAU;AACR,QAAMG,QAAQ,mBAASC,WAAT,CAAqB,IAArB,EAA2BD,KAAzC;;AAEAA,UAAME,OAAN,GAAgB,GAAhB;AACA,yBAAWC,GAAX,CAAeH,KAAf,EAAsB,WAAtB,aAA4C,KAAKI,KAAL,CAAWG,QAAvD;AACD,G;;yBAEDb,mB,gCAAoBD,Q,EAAU;AAC5B,QAAMO,QAAQ,mBAASC,WAAT,CAAqB,IAArB,EAA2BD,KAAzC;;AAEAA,UAAME,OAAN,GAAgB,GAAhB;AACA,yBAAWC,GAAX,CAAeH,KAAf,EAAsB,WAAtB,EAAmC,UAAnC;;AAEA,SAAKV,UAAL,GAAkBgB,WAAWb,QAAX,EAAqB,KAAKW,KAAL,CAAWI,UAAhC,CAAlB;AACD,G;;yBAEDC,M,qBAAS;AAAA,iBAQH,KAAKL,KARF;AAAA,QAELM,QAFK,UAELA,QAFK;AAAA,QAGLF,UAHK,UAGLA,UAHK;AAAA,QAILD,QAJK,UAILA,QAJK;AAAA,QAKLF,QALK,UAKLA,QALK;AAAA,QAMLL,KANK,UAMLA,KANK;AAAA,QAOFW,KAPE;AAAA,QAUAC,aAVA,GAUiB,KAAKC,OAAL,CAAaC,QAV9B,CAUAF,aAVA;;;AAYP,QAAMG,mBAAmB,sBAAc,EAAd,EAAkB;AACzCC,gBAAU,UAD+B;AAEzCC,cAAQ,MAFiC;AAGzCC,aAAO,MAHkC;AAIzCC,WAAK,CAJoC;AAKzCC,YAAM,CALmC;AAMzCC,kBAAY,sBAAYC,OAAZ,CAAoB,IAApB,EAA0B,CAAC,WAAD,EAAc,SAAd,CAA1B;AAN6B,KAAlB,EAOtBtB,KAPsB,CAAzB;;AASA,WACE;AAAA;AAAA,iCAASW,KAAT,IAAgB,OAAOC,cAAcG,gBAAd,CAAvB;AACGL;AADH,KADF;AAKD,G;;;4BA1FMa,S,GAAY;AACjBb,YAAU,oBAAUc,IADH;AAEjBhB,cAAY,oBAAUiB,MAFL;AAGjBlB,YAAU,oBAAUkB,MAHH;AAIjBpB,YAAU,oBAAUoB,MAJH;AAKjBzB,SAAO,oBAAU0B;AALA,C,SAQZC,Y,GAAe;AACpBnB,cAAY,CADQ;AAEpBD,YAAU,CAFU;AAGpBF,YAAU;AAHU,C,SAMfuB,Y,GAAe;AACpBd,YAAU,oBAAUY,MAAV,CAAiBG;AADP,C;kBA+ET1C,Y","file":"ScaleInChild.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport autoPrefix from '../utils/autoPrefix';\nimport transitions from '../styles/transitions';\n\nclass ScaleInChild extends Component {\n  static propTypes = {\n    children: PropTypes.node,\n    enterDelay: PropTypes.number,\n    maxScale: PropTypes.number,\n    minScale: PropTypes.number,\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    enterDelay: 0,\n    maxScale: 1,\n    minScale: 0,\n  };\n\n  static contextTypes = {\n    muiTheme: PropTypes.object.isRequired,\n  };\n\n  componentWillUnmount() {\n    clearTimeout(this.enterTimer);\n    clearTimeout(this.leaveTimer);\n  }\n\n  componentWillAppear(callback) {\n    this.initializeAnimation(callback);\n  }\n\n  componentWillEnter(callback) {\n    this.initializeAnimation(callback);\n  }\n\n  componentDidAppear() {\n    this.animate();\n  }\n\n  componentDidEnter() {\n    this.animate();\n  }\n\n  componentWillLeave(callback) {\n    const style = ReactDOM.findDOMNode(this).style;\n\n    style.opacity = '0';\n    autoPrefix.set(style, 'transform', `scale(${this.props.minScale})`);\n\n    this.leaveTimer = setTimeout(callback, 450);\n  }\n\n  animate() {\n    const style = ReactDOM.findDOMNode(this).style;\n\n    style.opacity = '1';\n    autoPrefix.set(style, 'transform', `scale(${this.props.maxScale})`);\n  }\n\n  initializeAnimation(callback) {\n    const style = ReactDOM.findDOMNode(this).style;\n\n    style.opacity = '0';\n    autoPrefix.set(style, 'transform', 'scale(0)');\n\n    this.enterTimer = setTimeout(callback, this.props.enterDelay);\n  }\n\n  render() {\n    const {\n      children,\n      enterDelay, // eslint-disable-line no-unused-vars\n      maxScale, // eslint-disable-line no-unused-vars\n      minScale, // eslint-disable-line no-unused-vars\n      style,\n      ...other\n    } = this.props;\n\n    const {prepareStyles} = this.context.muiTheme;\n\n    const mergedRootStyles = Object.assign({}, {\n      position: 'absolute',\n      height: '100%',\n      width: '100%',\n      top: 0,\n      left: 0,\n      transition: transitions.easeOut(null, ['transform', 'opacity']),\n    }, style);\n\n    return (\n      <div {...other} style={prepareStyles(mergedRootStyles)}>\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default ScaleInChild;\n"]}