{"version":3,"sources":["../../src/RefreshIndicator/RefreshIndicator.js"],"names":["VIEWBOX_SIZE","getStyles","props","padding","size","root","position","zIndex","width","height","top","left","transform","opacity","status","transition","create","RefreshIndicator","componentDidMount","scalePath","refs","path","rotateWrapper","wrapper","componentDidUpdate","clearTimeout","scalePathTimer","rotateWrapperTimer","rotateWrapperSecondTimer","componentWillUnmount","renderChildren","prepareStyles","context","muiTheme","paperSize","getPaperSize","childrenCmp","circleStyle","getCircleStyle","style","attr","polygonStyle","getPolygonStyle","getTheme","refreshIndicator","getPaddingSize","getCircleAttr","radiu","originX","originY","strokeWidth","getArcDeg","p","percentage","beginDeg","endDeg","getFactor","p1","Math","min","isLoading","circle","perimeter","PI","arcLen","dashOffset","theme","strokeDasharray","strokeDashoffset","stroke","loadingColor","loadingStrokeColor","color","strokeColor","strokeLinecap","fill","cx","cy","r","triangleCx","triangleCy","dx","trianglePath","transformOrigin","points","step","currStep","transitionDuration","set","setTimeout","render","other","styles","propTypes","string","number","isRequired","oneOf","object","defaultProps","contextTypes"],"mappings":"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","file":"RefreshIndicator.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport autoPrefix from '../utils/autoPrefix';\nimport transitions from '../styles/transitions';\nimport Paper from '../Paper';\n\nconst VIEWBOX_SIZE = 32;\n\nfunction getStyles(props) {\n  const padding = props.size * 0.1; // same implementation of `this.getPaddingSize()`\n  return {\n    root: {\n      position: 'absolute',\n      zIndex: 2,\n      width: props.size,\n      height: props.size,\n      padding: padding,\n      top: -10000,\n      left: -10000,\n      transform: `translate(${10000 + props.left}px, ${10000 + props.top}px)`,\n      opacity: props.status === 'hide' ? 0 : 1,\n      transition: props.status === 'hide' ? transitions.create('all', '.3s', 'ease-out') : 'none',\n    },\n  };\n}\n\nclass RefreshIndicator extends Component {\n  static propTypes = {\n    /**\n     * Override the theme's color of the indicator while it's status is\n     * \"ready\" and it's percentage is less than 100.\n     */\n    color: PropTypes.string,\n    /**\n     * The absolute left position of the indicator in pixels.\n     */\n    left: PropTypes.number.isRequired,\n    /**\n     * Override the theme's color of the indicator while\n     * it's status is \"loading\" or when it's percentage is 100.\n     */\n    loadingColor: PropTypes.string,\n    /**\n     * The confirmation progress to fetch data. Max value is 100.\n     */\n    percentage: PropTypes.number,\n    /**\n     * Size in pixels.\n     */\n    size: PropTypes.number,\n    /**\n     * The display status of the indicator. If the status is\n     * \"ready\", the indicator will display the ready state\n     * arrow. If the status is \"loading\", it will display\n     * the loading progress indicator. If the status is \"hide\",\n     * the indicator will be hidden.\n     */\n    status: PropTypes.oneOf(['ready', 'loading', 'hide']),\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n    /**\n     * The absolute top position of the indicator in pixels.\n     */\n    top: PropTypes.number.isRequired,\n  };\n\n  static defaultProps = {\n    percentage: 0,\n    size: 40,\n    status: 'hide',\n  };\n\n  static contextTypes = {\n    muiTheme: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.scalePath(this.refs.path, 0);\n    this.rotateWrapper(this.refs.wrapper);\n  }\n\n  componentDidUpdate() {\n    clearTimeout(this.scalePathTimer);\n    clearTimeout(this.rotateWrapperTimer);\n    clearTimeout(this.rotateWrapperSecondTimer);\n\n    this.scalePath(this.refs.path, 0);\n    this.rotateWrapper(this.refs.wrapper);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.scalePathTimer);\n    clearTimeout(this.rotateWrapperTimer);\n    clearTimeout(this.rotateWrapperSecondTimer);\n  }\n\n  renderChildren() {\n    const {prepareStyles} = this.context.muiTheme;\n    const paperSize = this.getPaperSize();\n\n    let childrenCmp = null;\n    if (this.props.status !== 'ready') {\n      const circleStyle = this.getCircleStyle(paperSize);\n      childrenCmp = (\n        <div\n          ref=\"wrapper\"\n          style={prepareStyles({\n            transition: transitions.create('transform', '20s', null, 'linear'),\n            width: '100%',\n            height: '100%',\n          })}\n        >\n          <svg\n            style={{\n              width: paperSize,\n              height: paperSize,\n            }}\n            viewBox={`0 0 ${VIEWBOX_SIZE} ${VIEWBOX_SIZE}`}\n          >\n            <circle\n              ref=\"path\"\n              style={prepareStyles(Object.assign(circleStyle.style, {\n                transition: transitions.create('all', '1.5s', null, 'ease-in-out'),\n              }))}\n              {...circleStyle.attr}\n            />\n          </svg>\n        </div>\n      );\n    } else {\n      const circleStyle = this.getCircleStyle(paperSize);\n      const polygonStyle = this.getPolygonStyle(paperSize);\n      childrenCmp = (\n        <svg\n          style={{\n            width: paperSize,\n            height: paperSize,\n          }}\n          viewBox={`0 0 ${VIEWBOX_SIZE} ${VIEWBOX_SIZE}`}\n        >\n          <circle\n            style={prepareStyles(circleStyle.style)}\n            {...circleStyle.attr}\n          />\n          <polygon\n            style={prepareStyles(polygonStyle.style)}\n            {...polygonStyle.attr}\n          />\n        </svg>\n      );\n    }\n\n    return childrenCmp;\n  }\n\n  getTheme() {\n    return this.context.muiTheme.refreshIndicator;\n  }\n\n  getPaddingSize() {\n    const padding = this.props.size * 0.1;\n    return padding;\n  }\n\n  getPaperSize() {\n    return this.props.size - this.getPaddingSize() * 2;\n  }\n\n  getCircleAttr() {\n    return {\n      radiu: VIEWBOX_SIZE / 2 - 5,\n      originX: VIEWBOX_SIZE / 2,\n      originY: VIEWBOX_SIZE / 2,\n      strokeWidth: 3,\n    };\n  }\n\n  getArcDeg() {\n    const p = this.props.percentage / 100;\n\n    const beginDeg = p * 120;\n    const endDeg = p * 410;\n    return [beginDeg, endDeg];\n  }\n\n  getFactor() {\n    const p = this.props.percentage / 100;\n    const p1 = Math.min(1, p / 0.4);\n\n    return p1;\n  }\n\n  getCircleStyle() {\n    const isLoading = this.props.status === 'loading';\n    const p1 = isLoading ? 1 : this.getFactor();\n    const circle = this.getCircleAttr();\n    const perimeter = Math.PI * 2 * circle.radiu;\n\n    const [beginDeg, endDeg] = this.getArcDeg();\n    const arcLen = (endDeg - beginDeg) * perimeter / 360;\n    const dashOffset = -beginDeg * perimeter / 360;\n\n    const theme = this.getTheme();\n    return {\n      style: {\n        strokeDasharray: `${arcLen}, ${(perimeter - arcLen)}`,\n        strokeDashoffset: dashOffset,\n        stroke: (isLoading || this.props.percentage === 100) ?\n          (this.props.loadingColor || theme.loadingStrokeColor) :\n          (this.props.color || theme.strokeColor),\n        strokeLinecap: 'round',\n        opacity: p1,\n        strokeWidth: circle.strokeWidth * p1,\n        fill: 'none',\n      },\n      attr: {\n        cx: circle.originX,\n        cy: circle.originY,\n        r: circle.radiu,\n      },\n    };\n  }\n\n  getPolygonStyle() {\n    const p1 = this.getFactor();\n    const circle = this.getCircleAttr();\n\n    const triangleCx = circle.originX + circle.radiu;\n    const triangleCy = circle.originY;\n    const dx = (circle.strokeWidth * 7 / 4) * p1;\n    const trianglePath = `${(triangleCx - dx)},${triangleCy} ${(triangleCx + dx)},${\n      triangleCy} ${triangleCx},${(triangleCy + dx)}`;\n\n    const [, endDeg] = this.getArcDeg();\n\n    const theme = this.getTheme();\n    return {\n      style: {\n        fill: this.props.percentage === 100 ?\n          (this.props.loadingColor || theme.loadingStrokeColor) :\n          (this.props.color || theme.strokeColor),\n        transform: `rotate(${endDeg}deg)`,\n        transformOrigin: `${circle.originX}px ${circle.originY}px`,\n        opacity: p1,\n      },\n      attr: {\n        points: trianglePath,\n      },\n    };\n  }\n\n  scalePath(path, step) {\n    if (this.props.status !== 'loading') return;\n\n    const currStep = (step || 0) % 3;\n\n    const circle = this.getCircleAttr();\n    const perimeter = Math.PI * 2 * circle.radiu;\n    const arcLen = perimeter * 0.64;\n\n    let strokeDasharray;\n    let strokeDashoffset;\n    let transitionDuration;\n\n    if (currStep === 0) {\n      strokeDasharray = '1, 200';\n      strokeDashoffset = 0;\n      transitionDuration = '0ms';\n    } else if (currStep === 1) {\n      strokeDasharray = `${arcLen}, 200`;\n      strokeDashoffset = -15;\n      transitionDuration = '750ms';\n    } else {\n      strokeDasharray = `${arcLen}, 200`;\n      strokeDashoffset = -(perimeter - 1);\n      transitionDuration = '850ms';\n    }\n\n    autoPrefix.set(path.style, 'strokeDasharray', strokeDasharray);\n    autoPrefix.set(path.style, 'strokeDashoffset', strokeDashoffset);\n    autoPrefix.set(path.style, 'transitionDuration', transitionDuration);\n\n    this.scalePathTimer = setTimeout(() => this.scalePath(path, currStep + 1), currStep ? 750 : 250);\n  }\n\n  rotateWrapper(wrapper) {\n    if (this.props.status !== 'loading') return;\n\n    autoPrefix.set(wrapper.style, 'transform', null);\n    autoPrefix.set(wrapper.style, 'transform', 'rotate(0deg)');\n    autoPrefix.set(wrapper.style, 'transitionDuration', '0ms');\n\n    this.rotateWrapperSecondTimer = setTimeout(() => {\n      autoPrefix.set(wrapper.style, 'transform', 'rotate(1800deg)');\n      autoPrefix.set(wrapper.style, 'transitionDuration', '10s');\n      autoPrefix.set(wrapper.style, 'transitionTimingFunction', 'linear');\n    }, 50);\n\n    this.rotateWrapperTimer = setTimeout(() => this.rotateWrapper(wrapper), 10050);\n  }\n\n  render() {\n    const {\n      style,\n      top, // eslint-disable-line no-unused-vars\n      left, // eslint-disable-line no-unused-vars\n      percentage, // eslint-disable-line no-unused-vars\n      status, // eslint-disable-line no-unused-vars\n      loadingColor, // eslint-disable-line no-unused-vars\n      ...other\n    } = this.props;\n\n    const styles = getStyles(this.props, this.context);\n\n    return (\n      <Paper\n        circle={true}\n        style={Object.assign(styles.root, style)}\n        {...other}\n      >\n        {this.renderChildren()}\n      </Paper>\n    );\n  }\n}\n\nexport default RefreshIndicator;\n"]}