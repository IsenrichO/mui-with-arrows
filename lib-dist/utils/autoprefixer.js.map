{"version":3,"sources":["../../src/utils/autoprefixer.js"],"names":["muiTheme","isClient","navigator","userAgent","undefined","hasWarnedAboutUserAgent","prefixAll","style","isFlex","indexOf","display","stylePrefixed","length","join","Prefixer","prefixer","prefix"],"mappings":";;;;;;kBAQe,UAASA,QAAT,EAAmB;AAChC,MAAMC,WAAW,OAAOC,SAAP,KAAqB,WAAtC;AACA,MAAIC,YAAYH,SAASG,SAAzB;;AAEA,MAAIA,cAAcC,SAAd,IAA2BH,QAA/B,EAAyC;AACvCE,gBAAYD,UAAUC,SAAtB;AACD;;AAED,MAAIA,cAAcC,SAAd,IAA2B,CAACC,uBAAhC,EAAyD;AACvD,2BAAQ,KAAR;;AAGAA,8BAA0B,IAA1B;AACD;;AAED,MAAMC,YAAY,2DAAlB;;AAEA,MAAIH,cAAc,KAAlB,EAAyB;AAAE;AACzB,WAAO,IAAP;AACD,GAFD,MAEO,IAAIA,cAAc,KAAd,IAAuBA,cAAcC,SAAzC,EAAoD;AAAE;AAC3D,WAAO,UAACG,KAAD,EAAW;AAChB,UAAMC,SAAS,CAAC,MAAD,EAAS,aAAT,EAAwBC,OAAxB,CAAgCF,MAAMG,OAAtC,MAAmD,CAAC,CAAnE;AACA,UAAMC,gBAAgBL,UAAUC,KAAV,CAAtB;;AAEA,UAAIC,MAAJ,EAAY;AACV,YAAME,UAAUC,cAAcD,OAA9B;AACA,YAAIT,QAAJ,EAAc;AACZ;AACA;AACAU,wBAAcD,OAAd,GAAwBA,QAAQA,QAAQE,MAAR,GAAiB,CAAzB,CAAxB;AACD,SAJD,MAIO;AACLD,wBAAcD,OAAd,GAAwBA,QAAQG,IAAR,CAAa,aAAb,CAAxB;AACD;AACF;;AAED,aAAOF,aAAP;AACD,KAhBD;AAiBD,GAlBM,MAkBA;AACL,QAAMG,WAAW,6DAA2CR,SAA3C,CAAjB;AACA,QAAMS,WAAW,IAAID,QAAJ,CAAa;AAC5BX,iBAAWA;AADiB,KAAb,CAAjB;;AAIA,WAAO,UAACI,KAAD;AAAA,aAAWQ,SAASC,MAAT,CAAgBT,KAAhB,CAAX;AAAA,KAAP;AACD;AACF,C;;AArDD;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIF,0BAA0B,KAA9B","file":"autoprefixer.js","sourcesContent":["import createPrefixerStatic from 'inline-style-prefixer/static/createPrefixer';\nimport createPrefixerDynamic from 'inline-style-prefixer/dynamic/createPrefixer';\nimport autoprefixerDynamic from './autoprefixerDynamic';\nimport autoprefixerStatic from './autoprefixerStatic';\nimport warning from 'warning';\n\nlet hasWarnedAboutUserAgent = false;\n\nexport default function(muiTheme) {\n  const isClient = typeof navigator !== 'undefined';\n  let userAgent = muiTheme.userAgent;\n\n  if (userAgent === undefined && isClient) {\n    userAgent = navigator.userAgent;\n  }\n\n  if (userAgent === undefined && !hasWarnedAboutUserAgent) {\n    warning(false, `Material-UI: userAgent should be supplied in the muiTheme context\n      for server-side rendering.`);\n\n    hasWarnedAboutUserAgent = true;\n  }\n\n  const prefixAll = createPrefixerStatic(autoprefixerStatic);\n\n  if (userAgent === false) { // Disabled autoprefixer\n    return null;\n  } else if (userAgent === 'all' || userAgent === undefined) { // Prefix for all user agent\n    return (style) => {\n      const isFlex = ['flex', 'inline-flex'].indexOf(style.display) !== -1;\n      const stylePrefixed = prefixAll(style);\n\n      if (isFlex) {\n        const display = stylePrefixed.display;\n        if (isClient) {\n          // We can't apply this join with react-dom:\n          // #https://github.com/facebook/react/issues/6467\n          stylePrefixed.display = display[display.length - 1];\n        } else {\n          stylePrefixed.display = display.join('; display: ');\n        }\n      }\n\n      return stylePrefixed;\n    };\n  } else {\n    const Prefixer = createPrefixerDynamic(autoprefixerDynamic, prefixAll);\n    const prefixer = new Prefixer({\n      userAgent: userAgent,\n    });\n\n    return (style) => prefixer.prefix(style);\n  }\n}\n"]}