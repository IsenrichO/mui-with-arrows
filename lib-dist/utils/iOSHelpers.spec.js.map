{"version":3,"sources":["../../src/utils/iOSHelpers.spec.js"],"names":["describe","test","window","navigator","userAgent","userAgentsWithIOS","nonIOSuserAgents","forEach","agent","it","__defineGetter__","strictEqual","after","getUserAgent","appCodeName","appVersion"],"mappings":";;AACA;;AACA;;AAFA;AAIAA,SAAS,sBAAT,EAAiC,YAAM;AACrC;AACA,MAAI,YAAYC,IAAZ,CAAiBC,OAAOC,SAAP,CAAiBC,SAAlC,CAAJ,EAAkD;AAChD;AACD;;AAED;AACA,MAAMC,oBAAoB,CACxB,yIADwB,EAExB,gIAFwB,EAGxB,2HAHwB,CAA1B;AAKA,MAAMC,mBAAmB,CACvB,qFADuB,EAEvB,2IAFuB,EAGvB,kIAHuB,CAAzB;AAKA;;AAEAD,oBAAkBE,OAAlB,CAA0B,UAACC,KAAD,EAAW;AACnCC,OAAG,mBAAH,EAAwB,YAAM;AAC5BP,aAAOC,SAAP,CAAiBO,gBAAjB,CAAkC,WAAlC,EAA+C;AAAA,eAAMF,KAAN;AAAA,OAA/C,EAD4B,CACiC;AAC7D,mBAAOG,WAAP,CAAmB,wBAAnB,EAA4B,IAA5B;AACD,KAHD;AAID,GALD;;AAOAL,mBAAiBC,OAAjB,CAAyB,UAACC,KAAD,EAAW;AAClCC,OAAG,uBAAH,EAA4B,YAAM;AAChCP,aAAOC,SAAP,CAAiBO,gBAAjB,CAAkC,WAAlC,EAA+C;AAAA,eAAMF,KAAN;AAAA,OAA/C,EADgC,CAC6B;AAC7D,mBAAOG,WAAP,CAAmB,wBAAnB,EAA4B,KAA5B;AACD,KAHD;AAID,GALD;;AAOAC,QAAM,YAAM;AACVV,WAAOC,SAAP,CAAiBO,gBAAjB,CAAkC,WAAlC,EAA+C,SAASG,YAAT,GAAwB;AAAE;AACvE,aAAU,KAAKC,WAAf,SAA8B,KAAKC,UAAnC;AACD,KAFD;AAGD,GAJD;AAKD,CAtCD","file":"iOSHelpers.spec.js","sourcesContent":["/* eslint-env mocha */\nimport {isIOS} from './iOSHelpers';\nimport {assert} from 'chai';\n\ndescribe('IOS detection helper', () => {\n  // skip tests on PhantomJS because __defineGetter__ method doesn't work\n  if (/PhantomJS/.test(window.navigator.userAgent)) {\n    return;\n  }\n\n  /* eslint-disable max-len */\n  const userAgentsWithIOS = [\n    'Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53',\n    'Mozilla/5.0 (iPad; CPU OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53',\n    'Mozilla/5.0 (iPod; U; CPU like Mac OS X; en) AppleWebKit/420.1 (KHTML, like Gecko) Version/3.0 Mobile/3A101a Safari/419.3',\n  ];\n  const nonIOSuserAgents = [\n    'Mozilla/5.0 (compatible; MSIE 9.0; Windows Phone OS 7.5; Trident/5.0; IEMobile/9.0)',\n    'Mozilla/5.0 (Linux; Android 4.4.4; Nexus 7 Build/KTU84Q) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Safari/537.36',\n    'Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en) AppleWebKit/534.11+ (KHTML, like Gecko) Version/7.1.0.346 Mobile Safari/534.11+',\n  ];\n  /* eslint-enable max-len */\n\n  userAgentsWithIOS.forEach((agent) => {\n    it('should detect IOS', () => {\n      window.navigator.__defineGetter__('userAgent', () => agent); // eslint-disable-line no-underscore-dangle,max-len\n      assert.strictEqual(isIOS(), true);\n    });\n  });\n\n  nonIOSuserAgents.forEach((agent) => {\n    it('should NOT detect IOS', () => {\n      window.navigator.__defineGetter__('userAgent', () => agent); // eslint-disable-line no-underscore-dangle,max-len\n      assert.strictEqual(isIOS(), false);\n    });\n  });\n\n  after(() => {\n    window.navigator.__defineGetter__('userAgent', function getUserAgent() { // eslint-disable-line no-underscore-dangle,max-len\n      return `${this.appCodeName}/${this.appVersion}`;\n    });\n  });\n});\n"]}