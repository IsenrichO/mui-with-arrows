{"version":3,"sources":["../../src/LinearProgress/LinearProgress.js"],"names":["getRelativeValue","value","min","max","clampedValue","Math","rangeValue","relValue","round","getStyles","props","context","muiTheme","palette","baseTheme","borderRadius","styles","root","position","height","display","width","backgroundColor","primary3Color","margin","overflow","bar","barFragment1","barFragment2","mode","color","primary1Color","top","left","bottom","transition","create","LinearProgress","componentDidMount","timers","bar1","barUpdate","refs","bar2","setTimeout","componentWillUnmount","clearTimeout","id","step","barElement","stepValues","timeToNextStep","right","isRtl","style","transitionDuration","render","other","prepareStyles","propTypes","string","number","oneOf","object","defaultProps","contextTypes","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,gBAAT,CAA0BC,KAA1B,EAAiCC,GAAjC,EAAsCC,GAAtC,EAA2C;AACzC,MAAMC,eAAeC,KAAKH,GAAL,CAASG,KAAKF,GAAL,CAASD,GAAT,EAAcD,KAAd,CAAT,EAA+BE,GAA/B,CAArB;AACA,MAAMG,aAAaH,MAAMD,GAAzB;AACA,MAAMK,WAAWF,KAAKG,KAAL,CAAW,CAACJ,eAAeF,GAAhB,IAAuBI,UAAvB,GAAoC,KAA/C,IAAwD,KAAzE;AACA,SAAOC,WAAW,GAAlB;AACD;;AAED,SAASE,SAAT,CAAmBC,KAAnB,EAA0BC,OAA1B,EAAmC;AAAA,MAE/BR,GAF+B,GAK7BO,KAL6B,CAE/BP,GAF+B;AAAA,MAG/BD,GAH+B,GAK7BQ,KAL6B,CAG/BR,GAH+B;AAAA,MAI/BD,KAJ+B,GAK7BS,KAL6B,CAI/BT,KAJ+B;AAAA,0BAOYU,QAAQC,QAPpB;AAAA,MAOdC,OAPc,qBAO1BC,SAP0B,CAOdD,OAPc;AAAA,MAOJE,YAPI,qBAOJA,YAPI;;;AASjC,MAAMC,SAAS;AACbC,UAAM;AACJC,gBAAU,UADN;AAEJC,cAAQ,CAFJ;AAGJC,eAAS,OAHL;AAIJC,aAAO,MAJH;AAKJC,uBAAiBT,QAAQU,aALrB;AAMJR,gCANI;AAOJS,cAAQ,CAPJ;AAQJC,gBAAU;AARN,KADO;AAWbC,SAAK;AACHP,cAAQ;AADL,KAXQ;AAcbQ,kBAAc,EAdD;AAebC,kBAAc;AAfD,GAAf;;AAkBA,MAAIlB,MAAMmB,IAAN,KAAe,eAAnB,EAAoC;AAClCb,WAAOW,YAAP,GAAsB;AACpBT,gBAAU,UADU;AAEpBI,uBAAiBZ,MAAMoB,KAAN,IAAejB,QAAQkB,aAFpB;AAGpBC,WAAK,CAHe;AAIpBC,YAAM,CAJc;AAKpBC,cAAQ,CALY;AAMpBC,kBAAY,sBAAYC,MAAZ,CAAmB,KAAnB,EAA0B,OAA1B,EAAmC,IAAnC,EAAyC,0CAAzC;AANQ,KAAtB;;AASApB,WAAOY,YAAP,GAAsB;AACpBV,gBAAU,UADU;AAEpBI,uBAAiBZ,MAAMoB,KAAN,IAAejB,QAAQkB,aAFpB;AAGpBC,WAAK,CAHe;AAIpBC,YAAM,CAJc;AAKpBC,cAAQ,CALY;AAMpBC,kBAAY,sBAAYC,MAAZ,CAAmB,KAAnB,EAA0B,OAA1B,EAAmC,IAAnC,EAAyC,0CAAzC;AANQ,KAAtB;AAQD,GAlBD,MAkBO;AACLpB,WAAOU,GAAP,CAAWJ,eAAX,GAA6BZ,MAAMoB,KAAN,IAAejB,QAAQkB,aAApD;AACAf,WAAOU,GAAP,CAAWS,UAAX,GAAwB,sBAAYC,MAAZ,CAAmB,OAAnB,EAA4B,KAA5B,EAAmC,IAAnC,EAAyC,QAAzC,CAAxB;AACApB,WAAOU,GAAP,CAAWL,KAAX,GAAsBrB,iBAAiBC,KAAjB,EAAwBC,GAAxB,EAA6BC,GAA7B,CAAtB;AACD;;AAED,SAAOa,MAAP;AACD;;IAEKqB,c;;;;;;;;2BAyCJC,iB,gCAAoB;AAAA;;AAClB,SAAKC,MAAL,GAAc,EAAd;;AAEA,SAAKA,MAAL,CAAYC,IAAZ,GAAmB,KAAKC,SAAL,CAAe,MAAf,EAAuB,CAAvB,EAA0B,KAAKC,IAAL,CAAUF,IAApC,EAA0C,CAC3D,CAAC,CAAC,EAAF,EAAM,GAAN,CAD2D,EAE3D,CAAC,GAAD,EAAM,CAAC,EAAP,CAF2D,CAA1C,EAGhB,CAHgB,CAAnB;;AAKA,SAAKD,MAAL,CAAYI,IAAZ,GAAmBC,WAAW,YAAM;AAClC,aAAKH,SAAL,CAAe,MAAf,EAAuB,CAAvB,EAA0B,OAAKC,IAAL,CAAUC,IAApC,EAA0C,CACxC,CAAC,CAAC,GAAF,EAAO,GAAP,CADwC,EAExC,CAAC,GAAD,EAAM,CAAC,CAAP,CAFwC,CAA1C,EAGG,CAHH;AAID,KALkB,EAKhB,GALgB,CAAnB;AAMD,G;;2BAEDE,oB,mCAAuB;AACrBC,iBAAa,KAAKP,MAAL,CAAYC,IAAzB;AACAM,iBAAa,KAAKP,MAAL,CAAYI,IAAzB;AACD,G;;2BAEDF,S,sBAAUM,E,EAAIC,I,EAAMC,U,EAAYC,U,EAAYC,c,EAAgB;AAAA;;AAC1D,QAAI,KAAKzC,KAAL,CAAWmB,IAAX,KAAoB,eAAxB,EAAyC;;AAEzCsB,qBAAiBA,kBAAkB,GAAnC;AACAH,WAAOA,QAAQ,CAAf;AACAA,YAAQ,CAAR;;AAEA,QAAMI,QAAQ,KAAKzC,OAAL,CAAaC,QAAb,CAAsByC,KAAtB,GAA8B,MAA9B,GAAuC,OAArD;AACA,QAAMpB,OAAO,KAAKtB,OAAL,CAAaC,QAAb,CAAsByC,KAAtB,GAA8B,OAA9B,GAAwC,MAArD;;AAEA,QAAIL,SAAS,CAAb,EAAgB;AACdC,iBAAWK,KAAX,CAAiBrB,IAAjB,IAA4BiB,WAAW,CAAX,EAAc,CAAd,CAA5B;AACAD,iBAAWK,KAAX,CAAiBF,KAAjB,IAA6BF,WAAW,CAAX,EAAc,CAAd,CAA7B;AACD,KAHD,MAGO,IAAIF,SAAS,CAAb,EAAgB;AACrBC,iBAAWK,KAAX,CAAiBC,kBAAjB,GAAsC,OAAtC;AACD,KAFM,MAEA,IAAIP,SAAS,CAAb,EAAgB;AACrBC,iBAAWK,KAAX,CAAiBrB,IAAjB,IAA4BiB,WAAW,CAAX,EAAc,CAAd,CAA5B;AACAD,iBAAWK,KAAX,CAAiBF,KAAjB,IAA6BF,WAAW,CAAX,EAAc,CAAd,CAA7B;AACD,KAHM,MAGA,IAAIF,SAAS,CAAb,EAAgB;AACrBC,iBAAWK,KAAX,CAAiBC,kBAAjB,GAAsC,KAAtC;AACD;AACD,SAAKhB,MAAL,CAAYQ,EAAZ,IAAkBH,WAAW;AAAA,aAAM,OAAKH,SAAL,CAAeM,EAAf,EAAmBC,OAAO,CAA1B,EAA6BC,UAA7B,EAAyCC,UAAzC,CAAN;AAAA,KAAX,EAAuEC,cAAvE,CAAlB;AACD,G;;2BAEDK,M,qBAAS;AAAA,iBAIH,KAAK9C,KAJF;AAAA,QAEL4C,KAFK,UAELA,KAFK;AAAA,QAGFG,KAHE;AAAA,QAMAC,aANA,GAMiB,KAAK/C,OAAL,CAAaC,QAN9B,CAMA8C,aANA;;AAOP,QAAM1C,SAASP,UAAU,KAAKC,KAAf,EAAsB,KAAKC,OAA3B,CAAf;;AAEA,WACE;AAAA;AAAA,iCAAS8C,KAAT,IAAgB,OAAOC,cAAc,sBAAc1C,OAAOC,IAArB,EAA2BqC,KAA3B,CAAd,CAAvB;AACE;AAAA;AAAA,UAAK,OAAOI,cAAc1C,OAAOU,GAArB,CAAZ;AACE,+CAAK,KAAI,MAAT,EAAgB,OAAOgC,cAAc1C,OAAOW,YAArB,CAAvB,GADF;AAEE,+CAAK,KAAI,MAAT,EAAgB,OAAO+B,cAAc1C,OAAOY,YAArB,CAAvB;AAFF;AADF,KADF;AAQD,G;;;4BAtGM+B,S,GAAY;AACjB;;;;AAIA7B,SAAO,oBAAU8B,MALA;AAMjB;;;AAGAzD,OAAK,oBAAU0D,MATE;AAUjB;;;AAGA3D,OAAK,oBAAU2D,MAbE;AAcjB;;;;AAIAhC,QAAM,oBAAUiC,KAAV,CAAgB,CAAC,aAAD,EAAgB,eAAhB,CAAhB,CAlBW;AAmBjB;;;AAGAR,SAAO,oBAAUS,MAtBA;AAuBjB;;;AAGA9D,SAAO,oBAAU4D;AA1BA,C,SA6BZG,Y,GAAe;AACpBnC,QAAM,eADc;AAEpB5B,SAAO,CAFa;AAGpBC,OAAK,CAHe;AAIpBC,OAAK;AAJe,C,SAOf8D,Y,GAAe;AACpBrD,YAAU,oBAAUmD,MAAV,CAAiBG;AADP,C;kBAqET7B,c","file":"LinearProgress.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport transitions from '../styles/transitions';\n\nfunction getRelativeValue(value, min, max) {\n  const clampedValue = Math.min(Math.max(min, value), max);\n  const rangeValue = max - min;\n  const relValue = Math.round((clampedValue - min) / rangeValue * 10000) / 10000;\n  return relValue * 100;\n}\n\nfunction getStyles(props, context) {\n  const {\n    max,\n    min,\n    value,\n  } = props;\n\n  const {baseTheme: {palette}, borderRadius} = context.muiTheme;\n\n  const styles = {\n    root: {\n      position: 'relative',\n      height: 4,\n      display: 'block',\n      width: '100%',\n      backgroundColor: palette.primary3Color,\n      borderRadius,\n      margin: 0,\n      overflow: 'hidden',\n    },\n    bar: {\n      height: '100%',\n    },\n    barFragment1: {},\n    barFragment2: {},\n  };\n\n  if (props.mode === 'indeterminate') {\n    styles.barFragment1 = {\n      position: 'absolute',\n      backgroundColor: props.color || palette.primary1Color,\n      top: 0,\n      left: 0,\n      bottom: 0,\n      transition: transitions.create('all', '840ms', null, 'cubic-bezier(0.650, 0.815, 0.735, 0.395)'),\n    };\n\n    styles.barFragment2 = {\n      position: 'absolute',\n      backgroundColor: props.color || palette.primary1Color,\n      top: 0,\n      left: 0,\n      bottom: 0,\n      transition: transitions.create('all', '840ms', null, 'cubic-bezier(0.165, 0.840, 0.440, 1.000)'),\n    };\n  } else {\n    styles.bar.backgroundColor = props.color || palette.primary1Color;\n    styles.bar.transition = transitions.create('width', '.3s', null, 'linear');\n    styles.bar.width = `${getRelativeValue(value, min, max)}%`;\n  }\n\n  return styles;\n}\n\nclass LinearProgress extends Component {\n  static propTypes = {\n    /**\n     * The color of the progress bar, defaults to\n     * primary color of theme.\n     */\n    color: PropTypes.string,\n    /**\n     * The max value of progress, only works in determinate mode.\n     */\n    max: PropTypes.number,\n    /**\n     * The min value of progress, only works in determinate mode.\n     */\n    min: PropTypes.number,\n    /**\n     * The mode of show your progress, indeterminate for when\n     * there is no value for progress.\n     */\n    mode: PropTypes.oneOf(['determinate', 'indeterminate']),\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n    /**\n     * The value of progress, only works in determinate mode.\n     */\n    value: PropTypes.number,\n  };\n\n  static defaultProps = {\n    mode: 'indeterminate',\n    value: 0,\n    min: 0,\n    max: 100,\n  };\n\n  static contextTypes = {\n    muiTheme: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.timers = {};\n\n    this.timers.bar1 = this.barUpdate('bar1', 0, this.refs.bar1, [\n      [-35, 100],\n      [100, -90],\n    ], 0);\n\n    this.timers.bar2 = setTimeout(() => {\n      this.barUpdate('bar2', 0, this.refs.bar2, [\n        [-200, 100],\n        [107, -8],\n      ], 0);\n    }, 850);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timers.bar1);\n    clearTimeout(this.timers.bar2);\n  }\n\n  barUpdate(id, step, barElement, stepValues, timeToNextStep) {\n    if (this.props.mode !== 'indeterminate') return;\n\n    timeToNextStep = timeToNextStep || 420;\n    step = step || 0;\n    step %= 4;\n\n    const right = this.context.muiTheme.isRtl ? 'left' : 'right';\n    const left = this.context.muiTheme.isRtl ? 'right' : 'left';\n\n    if (step === 0) {\n      barElement.style[left] = `${stepValues[0][0]}%`;\n      barElement.style[right] = `${stepValues[0][1]}%`;\n    } else if (step === 1) {\n      barElement.style.transitionDuration = '840ms';\n    } else if (step === 2) {\n      barElement.style[left] = `${stepValues[1][0]}%`;\n      barElement.style[right] = `${stepValues[1][1]}%`;\n    } else if (step === 3) {\n      barElement.style.transitionDuration = '0ms';\n    }\n    this.timers[id] = setTimeout(() => this.barUpdate(id, step + 1, barElement, stepValues), timeToNextStep);\n  }\n\n  render() {\n    const {\n      style,\n      ...other\n    } = this.props;\n\n    const {prepareStyles} = this.context.muiTheme;\n    const styles = getStyles(this.props, this.context);\n\n    return (\n      <div {...other} style={prepareStyles(Object.assign(styles.root, style))}>\n        <div style={prepareStyles(styles.bar)}>\n          <div ref=\"bar1\" style={prepareStyles(styles.barFragment1)} />\n          <div ref=\"bar2\" style={prepareStyles(styles.barFragment2)} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LinearProgress;\n"]}