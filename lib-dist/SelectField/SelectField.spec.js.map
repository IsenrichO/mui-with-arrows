{"version":3,"sources":["../../src/SelectField/SelectField.spec.js"],"names":["describe","muiTheme","mountWithContext","node","context","childContextTypes","object","it","wrapper","strictEqual","find","length","MyComponent2","state","value","handleChange","event","key","setState","render","simulate","item1","document","getElementsByClassName","ok","item2","item3","Simulate","touchTap","deepEqual","selectionRenderer","join","text","afterEach","unmount"],"mappings":"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","file":"SelectField.spec.js","sourcesContent":["/* eslint-env mocha */\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {mount} from 'enzyme';\nimport {assert} from 'chai';\nimport getMuiTheme from '../styles/getMuiTheme';\nimport SelectField from './SelectField';\nimport TouchRipple from '../internal/TouchRipple';\nimport MenuItem from '../MenuItem';\nimport TestUtils from 'react-dom/test-utils';\n\ndescribe('<SelectField />', () => {\n  const muiTheme = getMuiTheme();\n  const mountWithContext = (node) => mount(node, {\n    context: {muiTheme},\n    childContextTypes: {muiTheme: PropTypes.object},\n  });\n\n  describe('prop: disabled', () => {\n    it('disables the ripple effect', () => {\n      const wrapper = mountWithContext(\n        <SelectField disabled={true} />\n      );\n      assert.strictEqual(wrapper.find(TouchRipple).length, 0, 'should not contain a TouchRipple');\n    });\n  });\n\n  describe('MultiSelect', () => {\n    let wrapper;\n\n    it('should multi select 2 items after selecting 3 and deselecting 1', () => {\n      class MyComponent2 extends Component {\n        state = {\n          value: null,\n        }\n\n        handleChange = (event, key, value) => {\n          this.setState({value});\n        }\n\n        render() {\n          return (\n            <SelectField\n              multiple={true}\n              value={this.state.value}\n              onChange={this.handleChange}\n            >\n              <MenuItem className=\"item1\" value=\"item1\" primaryText=\"item 1\" />\n              <MenuItem className=\"item2\" value=\"item2\" primaryText=\"item 2\" />\n              <MenuItem className=\"item3\" value=\"item3\" primaryText=\"item 3\" />\n            </SelectField>\n          );\n        }\n      }\n      wrapper = mountWithContext(<MyComponent2 />);\n      wrapper.find('IconButton').simulate('touchTap');   // open\n\n      const item1 = document.getElementsByClassName('item1')[0];\n      assert.ok(item1);\n      const item2 = document.getElementsByClassName('item2')[0];\n      assert.ok(item2);\n      const item3 = document.getElementsByClassName('item3')[0];\n      assert.ok(item3);\n\n      TestUtils.Simulate.touchTap(item1);\n      TestUtils.Simulate.touchTap(item2);\n      TestUtils.Simulate.touchTap(item3);\n      assert.deepEqual(wrapper.state().value, ['item1', 'item2', 'item3']);\n\n      TestUtils.Simulate.touchTap(item1);  // deselect\n      assert.deepEqual(wrapper.state().value, ['item2', 'item3']);\n    });\n\n    it('should multi select 3 items and render their values colon separated', () => {\n      class MyComponent2 extends Component {\n        state = {\n          value: null,\n        }\n\n        selectionRenderer(value) {\n          return <span id=\"selection1\">{value.join(';')}</span>;\n        }\n\n        handleChange = (event, key, value) => {\n          this.setState({value});\n        }\n\n        render() {\n          return (\n            <SelectField\n              multiple={true}\n              value={this.state.value}\n              onChange={this.handleChange}\n              selectionRenderer={this.selectionRenderer}\n            >\n              <MenuItem className=\"item1\" value=\"item1\" primaryText=\"item 1\" />\n              <MenuItem className=\"item2\" value=\"item2\" primaryText=\"item 2\" />\n              <MenuItem className=\"item3\" value=\"item3\" primaryText=\"item 3\" />\n            </SelectField>\n          );\n        }\n      }\n      wrapper = mountWithContext(<MyComponent2 />);\n      wrapper.find('IconButton').simulate('touchTap');   // open\n\n      const item1 = document.getElementsByClassName('item1')[0];\n      assert.ok(item1);\n      const item2 = document.getElementsByClassName('item2')[0];\n      assert.ok(item2);\n      const item3 = document.getElementsByClassName('item3')[0];\n      assert.ok(item3);\n\n      TestUtils.Simulate.touchTap(item1);\n      TestUtils.Simulate.touchTap(item2);\n      TestUtils.Simulate.touchTap(item3);\n      assert.deepEqual(wrapper.state().value, ['item1', 'item2', 'item3']);\n\n      wrapper.find('IconButton').simulate('touchTap');   // close\n      assert.deepEqual(wrapper.find('#selection1').text(), 'item1;item2;item3');\n    });\n\n    afterEach(function() {\n      if (wrapper) wrapper.unmount();\n    });\n  });\n});\n"]}