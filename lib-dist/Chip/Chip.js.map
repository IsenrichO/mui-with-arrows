{"version":3,"sources":["../../src/Chip/Chip.js"],"names":["getStyles","props","context","state","chip","muiTheme","backgroundColor","focusColor","pressedColor","avatar","marginRight","deleteIcon","color","deleteHovered","deleteIconColor","cursor","margin","label","labelColor","textColor","fontSize","fontWeight","lineHeight","paddingLeft","paddingRight","userSelect","whiteSpace","root","clicked","focused","hovered","borderRadius","boxShadow","shadow","onTouchTap","display","width","Chip","handleBlur","event","setState","onBlur","handleFocus","onRequestDelete","onFocus","handleKeyboardFocus","keyboardFocused","onKeyboardFocus","handleKeyDown","preventDefault","onKeyDown","handleMouseDown","button","stopPropagation","onMouseDown","handleMouseEnter","onMouseEnter","handleMouseEnterDeleteIcon","handleMouseLeave","onMouseLeave","handleMouseLeaveDeleteIcon","handleMouseUp","onMouseUp","handleTouchTapDeleteIcon","handleTouchEnd","onTouchEnd","handleTouchStart","onTouchStart","render","buttonEventHandlers","prepareStyles","styles","childrenProp","children","containerElement","style","className","labelStyle","other","deletable","childCount","Children","count","toArray","isValidElement","type","muiName","shift","cloneElement","size","propTypes","string","node","oneOfType","element","object","func","defaultProps","contextTypes","isRequired"],"mappings":"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","file":"Chip.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport keycode from 'keycode';\nimport {fade, emphasize} from '../utils/colorManipulator';\nimport EnhancedButton from '../internal/EnhancedButton';\nimport DeleteIcon from '../svg-icons/navigation/cancel';\n\nfunction getStyles(props, context, state) {\n  const {chip} = context.muiTheme;\n\n  const backgroundColor = props.backgroundColor || chip.backgroundColor;\n  const focusColor = emphasize(backgroundColor, 0.08);\n  const pressedColor = emphasize(backgroundColor, 0.12);\n\n  return {\n    avatar: {\n      marginRight: -4,\n    },\n    deleteIcon: {\n      color: (state.deleteHovered) ? fade(chip.deleteIconColor, 0.4) : chip.deleteIconColor,\n      cursor: 'pointer',\n      margin: '4px 4px 0px -8px',\n    },\n    label: {\n      color: props.labelColor || chip.textColor,\n      fontSize: chip.fontSize,\n      fontWeight: chip.fontWeight,\n      lineHeight: '32px',\n      paddingLeft: 12,\n      paddingRight: 12,\n      userSelect: 'none',\n      whiteSpace: 'nowrap',\n    },\n    root: {\n      backgroundColor: state.clicked ? pressedColor : (state.focused || state.hovered) ? focusColor : backgroundColor,\n      borderRadius: 16,\n      boxShadow: state.clicked ? chip.shadow : null,\n      cursor: props.onTouchTap ? 'pointer' : 'default',\n      display: 'flex',\n      whiteSpace: 'nowrap',\n      width: 'fit-content',\n    },\n  };\n}\n\nclass Chip extends Component {\n\n  static propTypes = {\n    /**\n     * Override the background color of the chip.\n     */\n    backgroundColor: PropTypes.string,\n    /**\n     * Used to render elements inside the Chip.\n     */\n    children: PropTypes.node,\n    /**\n     * CSS `className` of the root element.\n     */\n    className: PropTypes.node,\n    /**\n     * The element to use as the container for the Chip. Either a string to\n     * use a DOM element or a ReactElement.\n     */\n    containerElement: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.element,\n    ]),\n    /**\n     * Override the label color.\n     */\n    labelColor: PropTypes.string,\n    /**\n     * Override the inline-styles of the label.\n     */\n    labelStyle: PropTypes.object,\n    /** @ignore */\n    onBlur: PropTypes.func,\n    /** @ignore */\n    onFocus: PropTypes.func,\n    /** @ignore */\n    onKeyDown: PropTypes.func,\n    /** @ignore */\n    onKeyboardFocus: PropTypes.func,\n    /** @ignore */\n    onMouseDown: PropTypes.func,\n    /** @ignore */\n    onMouseEnter: PropTypes.func,\n    /** @ignore */\n    onMouseLeave: PropTypes.func,\n    /** @ignore */\n    onMouseUp: PropTypes.func,\n    /**\n     * Callback function fired when the delete icon is clicked. If set, the delete icon will be shown.\n     * @param {object} event `touchTap` event targeting the element.\n     */\n    onRequestDelete: PropTypes.func,\n    /** @ignore */\n    onTouchEnd: PropTypes.func,\n    /** @ignore */\n    onTouchStart: PropTypes.func,\n    /**\n     * Callback function fired when the `Chip` element is touch-tapped.\n     *\n     * @param {object} event TouchTap event targeting the element.\n     */\n    onTouchTap: PropTypes.func,\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    containerElement: 'div', // Firefox doesn't support nested buttons\n    onBlur: () => {},\n    onFocus: () => {},\n    onKeyDown: () => {},\n    onKeyboardFocus: () => {},\n    onMouseDown: () => {},\n    onMouseEnter: () => {},\n    onMouseLeave: () => {},\n    onMouseUp: () => {},\n    onTouchEnd: () => {},\n    onTouchStart: () => {},\n  };\n\n  static contextTypes = {muiTheme: PropTypes.object.isRequired};\n\n  state = {\n    clicked: false,\n    deleteHovered: false,\n    focused: false,\n    hovered: false,\n  };\n\n  handleBlur = (event) => {\n    this.setState({clicked: false, focused: false});\n    this.props.onBlur(event);\n  };\n\n  handleFocus = (event) => {\n    if (this.props.onTouchTap || this.props.onRequestDelete) {\n      this.setState({focused: true});\n    }\n    this.props.onFocus(event);\n  };\n\n  handleKeyboardFocus = (event, keyboardFocused) => {\n    if (keyboardFocused) {\n      this.handleFocus();\n      this.props.onFocus(event);\n    } else {\n      this.handleBlur();\n    }\n\n    this.props.onKeyboardFocus(event, keyboardFocused);\n  };\n\n  handleKeyDown = (event) => {\n    if (keycode(event) === 'backspace') {\n      event.preventDefault();\n      if (this.props.onRequestDelete) {\n        this.props.onRequestDelete(event);\n      }\n    }\n    this.props.onKeyDown(event);\n  };\n\n  handleMouseDown = (event) => {\n    // Only listen to left clicks\n    if (event.button === 0) {\n      event.stopPropagation();\n      if (this.props.onTouchTap) {\n        this.setState({clicked: true});\n      }\n    }\n    this.props.onMouseDown(event);\n  };\n\n  handleMouseEnter = (event) => {\n    if (this.props.onTouchTap) {\n      this.setState({hovered: true});\n    }\n    this.props.onMouseEnter(event);\n  };\n\n  handleMouseEnterDeleteIcon = () => {\n    this.setState({deleteHovered: true});\n  };\n\n  handleMouseLeave = (event) => {\n    this.setState({\n      clicked: false,\n      hovered: false,\n    });\n    this.props.onMouseLeave(event);\n  };\n\n  handleMouseLeaveDeleteIcon = () => {\n    this.setState({deleteHovered: false});\n  };\n\n  handleMouseUp = (event) => {\n    this.setState({clicked: false});\n    this.props.onMouseUp(event);\n  };\n\n  handleTouchTapDeleteIcon = (event) => {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n    this.props.onRequestDelete(event);\n  };\n\n  handleTouchEnd = (event) => {\n    this.setState({clicked: false});\n    this.props.onTouchEnd(event);\n  };\n\n  handleTouchStart = (event) => {\n    event.stopPropagation();\n    if (this.props.onTouchTap) {\n      this.setState({clicked: true});\n    }\n    this.props.onTouchStart(event);\n  };\n\n  render() {\n    const buttonEventHandlers = {\n      onBlur: this.handleBlur,\n      onFocus: this.handleFocus,\n      onKeyDown: this.handleKeyDown,\n      onMouseDown: this.handleMouseDown,\n      onMouseEnter: this.handleMouseEnter,\n      onMouseLeave: this.handleMouseLeave,\n      onMouseUp: this.handleMouseUp,\n      onTouchEnd: this.handleTouchEnd,\n      onTouchStart: this.handleTouchStart,\n      onKeyboardFocus: this.handleKeyboardFocus,\n    };\n\n    const {prepareStyles} = this.context.muiTheme;\n    const styles = getStyles(this.props, this.context, this.state);\n\n    const {\n      children: childrenProp,\n      containerElement,\n      style,\n      className,\n      labelStyle,\n      labelColor, // eslint-disable-line no-unused-vars,prefer-const\n      backgroundColor, // eslint-disable-line no-unused-vars,prefer-const\n      onRequestDelete, // eslint-disable-line no-unused-vars,prefer-const\n      ...other\n    } = this.props;\n\n    const deletable = this.props.onRequestDelete;\n    let avatar = null;\n\n    const deleteIcon = deletable ? (\n      <DeleteIcon\n        color={styles.deleteIcon.color}\n        style={styles.deleteIcon}\n        onTouchTap={this.handleTouchTapDeleteIcon}\n        onMouseEnter={this.handleMouseEnterDeleteIcon}\n        onMouseLeave={this.handleMouseLeaveDeleteIcon}\n      />\n    ) : null;\n\n    let children = childrenProp;\n    const childCount = React.Children.count(children);\n\n    // If the first child is an avatar, extract it and style it\n    if (childCount > 1) {\n      children = React.Children.toArray(children);\n\n      if (React.isValidElement(children[0]) && children[0].type.muiName === 'Avatar') {\n        avatar = children.shift();\n\n        avatar = React.cloneElement(avatar, {\n          style: Object.assign(styles.avatar, avatar.props.style),\n          size: 32,\n        });\n      }\n    }\n\n    return (\n      <EnhancedButton\n        {...other}\n        {...buttonEventHandlers}\n        className={className}\n        containerElement={containerElement}\n        disableTouchRipple={true}\n        disableFocusRipple={true}\n        style={Object.assign(styles.root, style)}\n      >\n        {avatar}\n        <span style={prepareStyles(Object.assign(styles.label, labelStyle))}>\n          {children}\n        </span>\n        {deleteIcon}\n      </EnhancedButton>\n    );\n  }\n}\n\nexport default Chip;\n"]}