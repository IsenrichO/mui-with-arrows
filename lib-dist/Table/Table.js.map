{"version":3,"sources":["../../src/Table/Table.js"],"names":["getStyles","props","context","muiTheme","baseTheme","table","root","backgroundColor","width","borderCollapse","borderSpacing","tableLayout","fontFamily","bodyTable","height","fixedHeader","fixedFooter","overflowX","overflowY","tableWrapper","overflow","Table","state","allRowsSelected","onCellClick","rowNumber","columnNumber","event","onCellHover","onCellHoverExit","onRowHover","onRowHoverExit","onRowSelection","selectedRows","setState","onSelectAll","componentWillMount","isScrollbarVisible","tableDivHeight","refs","tableDiv","clientHeight","tableBodyHeight","tableBody","createTableHeader","base","cloneElement","enableSelectAll","selectable","multiSelectable","selectAllSelected","createTableBody","style","createTableFooter","render","children","className","wrapperStyle","headerStyle","bodyStyle","footerStyle","prepareStyles","styles","tHead","tFoot","tBody","Children","forEach","child","isValidElement","muiName","type","mergedTableStyle","headerTable","footerTable","inlineHeader","inlineFooter","undefined","propTypes","bool","object","node","string","func","defaultProps","contextTypes","isRequired"],"mappings":"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","file":"Table.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\n\nfunction getStyles(props, context) {\n  const {\n    baseTheme,\n    table,\n  } = context.muiTheme;\n\n  return {\n    root: {\n      backgroundColor: table.backgroundColor,\n      width: '100%',\n      borderCollapse: 'collapse',\n      borderSpacing: 0,\n      tableLayout: 'fixed',\n      fontFamily: baseTheme.fontFamily,\n    },\n    bodyTable: {\n      height: (props.fixedHeader || props.fixedFooter) ? props.height : 'auto',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n    },\n    tableWrapper: {\n      height: (props.fixedHeader || props.fixedFooter) ? 'auto' : props.height,\n      overflow: 'auto',\n    },\n  };\n}\n\nclass Table extends Component {\n  static propTypes = {\n    /**\n     * Set to true to indicate that all rows should be selected.\n     */\n    allRowsSelected: PropTypes.bool,\n    /**\n     * Override the inline-styles of the body's table element.\n     */\n    bodyStyle: PropTypes.object,\n    /**\n     * Children passed to table.\n     */\n    children: PropTypes.node,\n    /**\n     * The css class name of the root element.\n     */\n    className: PropTypes.string,\n    /**\n     * If true, the footer will appear fixed below the table.\n     * The default value is true.\n     */\n    fixedFooter: PropTypes.bool,\n    /**\n     * If true, the header will appear fixed above the table.\n     * The default value is true.\n     */\n    fixedHeader: PropTypes.bool,\n    /**\n     * Override the inline-styles of the footer's table element.\n     */\n    footerStyle: PropTypes.object,\n    /**\n     * Override the inline-styles of the header's table element.\n     */\n    headerStyle: PropTypes.object,\n    /**\n     * The height of the table.\n     */\n    height: PropTypes.string,\n    /**\n     * If true, multiple table rows can be selected.\n     * CTRL/CMD+Click and SHIFT+Click are valid actions.\n     * The default value is false.\n     */\n    multiSelectable: PropTypes.bool,\n    /**\n     * Called when a row cell is clicked.\n     * rowNumber is the row number and columnId is\n     * the column number or the column key.\n     */\n    onCellClick: PropTypes.func,\n    /**\n     * Called when a table cell is hovered.\n     * rowNumber is the row number of the hovered row\n     * and columnId is the column number or the column key of the cell.\n     */\n    onCellHover: PropTypes.func,\n    /**\n     * Called when a table cell is no longer hovered.\n     * rowNumber is the row number of the row and columnId\n     * is the column number or the column key of the cell.\n     */\n    onCellHoverExit: PropTypes.func,\n    /**\n     * Called when a table row is hovered.\n     * rowNumber is the row number of the hovered row.\n     */\n    onRowHover: PropTypes.func,\n    /**\n     * Called when a table row is no longer hovered.\n     * rowNumber is the row number of the row that is no longer hovered.\n     */\n    onRowHoverExit: PropTypes.func,\n    /**\n     * Called when a row is selected.\n     * selectedRows is an array of all row selections.\n     * IF all rows have been selected, the string \"all\"\n     * will be returned instead to indicate that all rows have been selected.\n     */\n    onRowSelection: PropTypes.func,\n    /**\n     * If true, table rows can be selected.\n     * If multiple row selection is desired, enable multiSelectable.\n     * The default value is true.\n     */\n    selectable: PropTypes.bool,\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n    /**\n     * Override the inline-styles of the table's wrapper element.\n     */\n    wrapperStyle: PropTypes.object,\n  };\n\n  static defaultProps = {\n    allRowsSelected: false,\n    fixedFooter: true,\n    fixedHeader: true,\n    height: 'inherit',\n    multiSelectable: false,\n    selectable: true,\n  };\n\n  static contextTypes = {\n    muiTheme: PropTypes.object.isRequired,\n  };\n\n  state = {\n    allRowsSelected: false,\n  };\n\n  componentWillMount() {\n    if (this.props.allRowsSelected) {\n      this.setState({allRowsSelected: true});\n    }\n  }\n\n  isScrollbarVisible() {\n    const tableDivHeight = this.refs.tableDiv.clientHeight;\n    const tableBodyHeight = this.refs.tableBody.clientHeight;\n\n    return tableBodyHeight > tableDivHeight;\n  }\n\n  createTableHeader(base) {\n    return React.cloneElement(\n      base,\n      {\n        enableSelectAll: base.props.enableSelectAll && this.props.selectable && this.props.multiSelectable,\n        onSelectAll: this.onSelectAll,\n        selectAllSelected: this.state.allRowsSelected,\n      }\n    );\n  }\n\n  createTableBody(base) {\n    return React.cloneElement(\n      base,\n      {\n        allRowsSelected: this.state.allRowsSelected,\n        multiSelectable: this.props.multiSelectable,\n        onCellClick: this.onCellClick,\n        onCellHover: this.onCellHover,\n        onCellHoverExit: this.onCellHoverExit,\n        onRowHover: this.onRowHover,\n        onRowHoverExit: this.onRowHoverExit,\n        onRowSelection: this.onRowSelection,\n        selectable: this.props.selectable,\n        style: Object.assign({height: this.props.height}, base.props.style),\n      }\n    );\n  }\n\n  createTableFooter(base) {\n    return base;\n  }\n\n  onCellClick = (rowNumber, columnNumber, event) => {\n    if (this.props.onCellClick) this.props.onCellClick(rowNumber, columnNumber, event);\n  };\n\n  onCellHover = (rowNumber, columnNumber, event) => {\n    if (this.props.onCellHover) this.props.onCellHover(rowNumber, columnNumber, event);\n  };\n\n  onCellHoverExit = (rowNumber, columnNumber, event) => {\n    if (this.props.onCellHoverExit) this.props.onCellHoverExit(rowNumber, columnNumber, event);\n  };\n\n  onRowHover = (rowNumber) => {\n    if (this.props.onRowHover) this.props.onRowHover(rowNumber);\n  };\n\n  onRowHoverExit = (rowNumber) => {\n    if (this.props.onRowHoverExit) this.props.onRowHoverExit(rowNumber);\n  };\n\n  onRowSelection = (selectedRows) => {\n    if (this.state.allRowsSelected) {\n      this.setState({allRowsSelected: false});\n    }\n\n    if (this.props.onRowSelection) {\n      this.props.onRowSelection(selectedRows);\n    }\n  };\n\n  onSelectAll = () => {\n    if (this.props.onRowSelection) {\n      if (!this.state.allRowsSelected) {\n        this.props.onRowSelection('all');\n      } else {\n        this.props.onRowSelection('none');\n      }\n    }\n\n    this.setState({allRowsSelected: !this.state.allRowsSelected});\n  };\n\n  render() {\n    const {\n      children,\n      className,\n      fixedFooter,\n      fixedHeader,\n      style,\n      wrapperStyle,\n      headerStyle,\n      bodyStyle,\n      footerStyle,\n    } = this.props;\n\n    const {prepareStyles} = this.context.muiTheme;\n    const styles = getStyles(this.props, this.context);\n\n    let tHead;\n    let tFoot;\n    let tBody;\n\n    React.Children.forEach(children, (child) => {\n      if (!React.isValidElement(child)) return;\n\n      const {muiName} = child.type;\n      if (muiName === 'TableBody') {\n        tBody = this.createTableBody(child);\n      } else if (muiName === 'TableHeader') {\n        tHead = this.createTableHeader(child);\n      } else if (muiName === 'TableFooter') {\n        tFoot = this.createTableFooter(child);\n      } else {\n        warning(false,\n          `Material-UI: Children of the Table component must be TableBody or TableHeader or TableFooter.\n           Nothing is rendered.`);\n      }\n    });\n\n    // If we could not find a table-header and a table-body, do not attempt to display anything.\n    if (!tBody && !tHead) return null;\n\n    const mergedTableStyle = Object.assign(styles.root, style);\n    let headerTable;\n    let footerTable;\n    let inlineHeader;\n    let inlineFooter;\n\n    if (fixedHeader) {\n      headerTable = (\n        <div style={prepareStyles(Object.assign({}, headerStyle))}>\n          <table className={className} style={mergedTableStyle}>\n            {tHead}\n          </table>\n        </div>\n      );\n    } else {\n      inlineHeader = tHead;\n    }\n\n    if (tFoot !== undefined) {\n      if (fixedFooter) {\n        footerTable = (\n          <div style={prepareStyles(Object.assign({}, footerStyle))}>\n            <table className={className} style={prepareStyles(mergedTableStyle)}>\n              {tFoot}\n            </table>\n          </div>\n        );\n      } else {\n        inlineFooter = tFoot;\n      }\n    }\n\n    return (\n      <div style={prepareStyles(Object.assign(styles.tableWrapper, wrapperStyle))}>\n        {headerTable}\n        <div style={prepareStyles(Object.assign(styles.bodyTable, bodyStyle))} ref=\"tableDiv\">\n          <table className={className} style={mergedTableStyle} ref=\"tableBody\">\n            {inlineHeader}\n            {inlineFooter}\n            {tBody}\n          </table>\n        </div>\n        {footerTable}\n      </div>\n    );\n  }\n}\n\nexport default Table;\n"]}